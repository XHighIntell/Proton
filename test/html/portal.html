<!DOCTYPE html>

<html>
<head>
    <style>
        html{user-select:none}
        body{margin:0;}

        .app-title-bar{line-height:2em;background:blue;-webkit-app-region:drag;-webkit-user-drag:none}
        .item:hover{background:#fff}
    </style>
    <script src="/proton.js"></script>
</head>
<body>

    <div class="app-title-bar">
        Proton
        <button>A button on title bar</button>
    </div>
    <div class="item">aaa</div>
    <div class="item">bbb</div>

    <button id="btn">Send Message</button>
    <div id="chat"></div>


    <script>
        document.addEventListener("focus", function(e) { console.log(e) });

        var btnElement = document.getElementById('btn');

        btnElement.addEventListener('click', function() {

            proton.postMessagePromise("Hello", { x: 123 }).then(function(e) {
                var c = document.createElement('div');
                c.innerText = e.message;

                document.getElementById('chat').appendChild(c);
            });

        });

        proton.window.onWindowStateChange.addListener(function() {
            console.log('onWindowStateChange');
        })
    </script>


</body>
</html>